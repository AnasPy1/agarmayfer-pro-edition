<!DOCTYPE html>
<html lang="fr">
<head>    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S'inscrire - Agarmyfer</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="../js/darkmode.js" defer></script>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <h1><span class="logo-text">Agarmy</span><span class="logo-highlight">fer</span></h1>
            </div>
            <ul class="nav-links">
                <li><a href="../index.html">Accueil</a></li>
                <li><a href="products.html">Produits</a></li>
                <li><a href="categories.html">Catégories</a></li>
                <li><a href="about.html">À propos</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="cart.html"><i class="fas fa-shopping-cart"></i> Panier</a></li>
                <li class="login-dropdown">
                    <a href="login.html"><i class="fas fa-user"></i> Connexion</a>
                    <ul class="dropdown-menu">
                        <li><a href="login.html">Connexion</a></li>
                        <li><a href="register.html">S'inscrire</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
        <button id="darkModeToggle" aria-label="Toggle dark mode" style="margin-left:1rem; background:none; border:none; cursor:pointer; font-size:1.3rem; color:var(--secondary-color);">
            <i class="fas fa-moon"></i>
        </button>
    </header>
    <main class="auth-page">
        <div class="auth-container">
            <div class="auth-box">
                <div class="auth-header">
                    <h2>Créer un compte</h2>
                    <p>Inscrivez-vous pour commencer</p>
                </div>
                <form id="registerForm" class="auth-form">
                    <div class="form-group">
                        <div class="input-with-icon">
                            <i class="fas fa-user"></i>
                            <input type="text" id="regName" name="name" placeholder="Nom complet" required>
                        </div>
                        <div class="field-error" data-error="name"></div>
                    </div>
                    <div class="form-group">
                        <div class="input-with-icon">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="regEmail" name="email" placeholder="Adresse e-mail" required>
                        </div>
                        <div class="field-error" data-error="email"></div>
                    </div>
                    <div class="form-group">
                        <div class="input-with-icon">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="regPassword" name="password" placeholder="Mot de passe" required>
                            <button type="button" class="toggle-password" aria-label="Toggle password visibility">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="field-error" data-error="password"></div>
                    </div>
                    <div class="form-group">
                        <div class="input-with-icon">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="regConfirmPassword" name="confirmPassword" placeholder="Confirmer le mot de passe" required>
                            <button type="button" class="toggle-password" aria-label="Toggle password visibility">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="field-error" data-error="confirmPassword"></div>
                    </div>
                    <div class="form-options">
                        <label class="remember-me">
                            <input type="checkbox" id="regTerms" name="terms" required>
                            <span>J'accepte les <a href="terms.html" target="_blank">conditions générales</a></span>
                        </label>
                    </div>
                    <button type="submit" class="auth-button">
                        <span>S'inscrire</span>
                        <div class="button-loader" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </form>
                <p class="auth-links">
                    <span>Vous avez déjà un compte?</span>
                    <a href="login.html">Se connecter</a>
                </p>
            </div>
        </div>
    </main>
    <footer>
        <!-- ... existing footer content ... -->
    </footer>
    <script>
    // Password toggle logic
    document.querySelectorAll('.toggle-password').forEach(btn => {
        btn.addEventListener('click', function() {
            const input = this.parentElement.querySelector('input');
            const icon = this.querySelector('i');
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        });
    });
    // Simple form validation and mock registration
    document.getElementById('registerForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const name = document.getElementById('regName').value.trim();
        const email = document.getElementById('regEmail').value.trim();
        const password = document.getElementById('regPassword').value;
        const confirmPassword = document.getElementById('regConfirmPassword').value;
        const terms = document.getElementById('regTerms').checked;
        let valid = true;
        // Reset errors
        this.querySelectorAll('.field-error').forEach(el => el.style.display = 'none');
        this.querySelector('.login-error').style.display = 'none';
        if (!name) {
            showError('name', 'Veuillez entrer votre nom'); valid = false;
        }
        if (!email || !/^\S+@\S+\.\S+$/.test(email)) {
            showError('email', 'Veuillez entrer un e-mail valide'); valid = false;
        }
        if (!password || password.length < 6) {
            showError('password', 'Le mot de passe doit comporter au moins 6 caractères'); valid = false;
        }
        if (password !== confirmPassword) {
            showError('confirmPassword', 'Les mots de passe ne correspondent pas'); valid = false;
        }
        if (!terms) {
            showError('confirmPassword', 'Vous devez accepter les conditions'); valid = false;
        }
        if (!valid) return;
        // Show loading
        const btn = this.querySelector('.auth-button');
        btn.disabled = true;
        btn.querySelector('span').style.opacity = '0';
        btn.querySelector('.button-loader').style.display = 'block';
        setTimeout(() => {
            btn.disabled = false;
            btn.querySelector('span').style.opacity = '1';
            btn.querySelector('.button-loader').style.display = 'none';
            // Mock registration success
            localStorage.setItem('user', JSON.stringify({ name, email }));
            window.location.href = 'profile.html';
        }, 1200);
    });
    function showError(field, message) {
        const el = document.querySelector('.field-error[data-error="' + field + '"]');
        if (el) {
            el.textContent = message;
            el.style.display = 'block';
        }
        const errorBox = document.querySelector('.login-error');
        if (errorBox) {
            errorBox.style.display = 'flex';
            errorBox.querySelector('span').textContent = message;
        }
    }
    </script>
</body>
</body>
</html>
